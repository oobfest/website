webpackJsonp([11],{"+obd":function(t,e,a){"use strict";var i=a("mtWM"),s=a.n(i);e.a={props:["showId","remaining"],data:function(){return{ticket:{name:"",email:"",phone:"",quantity:1}}},methods:{isValid:function(){return""!=this.ticket.name&&""!=this.ticket.email&&""!=this.ticket.phone},validate:function(t){this.isValid()?t.enable():t.disable()},onChange:function(t){document.querySelector("#paypal-name").addEventListener("change",t),document.querySelector("#paypal-email").addEventListener("change",t),document.querySelector("#paypal-phone").addEventListener("change",t)}},mounted:function(){var t=this;paypal.Button.render({env:"production",commit:!0,style:{layout:"vertical",size:"medium",shape:"rect",color:"gold"},funding:{allowed:[paypal.FUNDING.CARD],disallowed:[paypal.FUNDING.CREDIT]},validate:function(e){t.validate(e),t.onChange(function(){t.validate(e)})},onClick:function(){!t.isValid()&&alert("Please fill in all fields")},payment:function(e,a){return s.a.post("https://app.oobfest.com/api/paypal/create-ticket-sale/"+t.showId,t.ticket).then(function(t){return t.data.id}).catch(function(t){alert("Payment creation failed, show may have sold out!"),console.log(t)})},onAuthorize:function(e,a){return a.payment.get().then(function(a){var i={paymentId:e.paymentID,payerId:e.payerID,ticket:t.ticket};return s.a.post("https://app.oobfest.com/api/paypal/execute-ticket-sale/"+t.showId,i).then(function(e){t.$emit("paid")}).catch(function(t){alert("Payment execution failed"),console.log(t)})})},onError:function(t){console.log("Error")}},"#paypal-button")}}},"6DME":function(t,e,a){"use strict";var i=a("+obd"),s=a("kAcT"),n=!1;var o=function(t){n||a("IlhM")},r=a("VU/8")(i.a,s.a,!1,o,"data-v-0065bb24",null);r.options.__file="components/PayPal.vue",e.a=r.exports},IlhM:function(t,e,a){var i=a("usiW");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("42995506",i,!1,{sourceMap:!1})},QiR0:function(t,e,a){"use strict";var i=a("Xxa5"),s=a.n(i),n=a("exGp"),o=a.n(n),r=a("mtWM"),c=a.n(r),l=a("6DME");e.a={components:{paypal:l.a},data:function(){return{state:0,email:"",quantity:1,remaining:null,clickCounter:0}},asyncData:function(){var t=o()(s.a.mark(function t(e){e.params,e.error;var a=e.payload;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}return t.abrupt("return",{show:a});case 4:return t.abrupt("return",{show:{acts:[]}});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),created:function(){this.shown()},methods:{boxOfficeClosed:function(){var t=new Date,e=t.getDay()<=1?t.getDay()+5:t.getDay()-2,a=100*(t.getHours()-11)+t.getMinutes(),i=["Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday"].indexOf(this.show.day),s=this.show.time;return e>i||e==i&&a>=s},paid:function(t){this.email=t,this.state=2},shown:function(){var t=this;return c.a.get("https://app.oobfest.com/api/shows/get-remaining-tickets/"+t.show._id).then(function(e){t.remaining=Number(e.data.remaining)}).catch(function(t){alert("Error getting ticket data"),console.log(t)})},reserveWithBadge:function(t){if(""==this.email)return alert("Please enter email");var e=this;c.a.post("https://app.oobfest.com/api/shows/badge-reservation/"+t,{email:e.email,quantity:e.quantity}).then(function(t){t.data.reservationSuccessful?e.state++:alert(t.data.message)}).catch(function(t){alert("Error reserving for show with badge :("),console.log(t),this.reset()})},reset:function(){this.state=0,this.quantity=1},formatVenue:function(t){switch(t){case"Hideout Up":return"Hideout Upstairs";case"Hideout Down":return"Hideout Downstairs";case"ColdTowne":return"ColdTowne";case"Fallout":return"Fallout";case"Velveeta":return"Velveeta";case"Spider House":return"Spider House";case"Institution":return"Institution"}},formatTime:function(t){return(t=String(t)).slice(0,t.length-2)+":"+t.slice(t.length-2)+"pm"},formatActType:function(t){return"Individual"==t?"Sketch":t}}}},R8YN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("QiR0"),s=a("iS0p"),n=!1;var o=function(t){n||a("ojp8")},r=a("VU/8")(i.a,s.a,!1,o,"data-v-b5c1ea40",null);r.options.__file="pages/shows/_day/_venue/_time/index.vue",e.default=r.exports},S5gM:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".modal-act-name[data-v-b5c1ea40]{font-size:24px;font-size:1.5rem}.modal-act-description[data-v-b5c1ea40]{font-size:16px;font-size:1rem}.formy[data-v-b5c1ea40]{width:100%;max-width:500px}img[data-v-b5c1ea40]{border-radius:4px;-webkit-box-shadow:3px 3px 3px rgba(0,0,0,.25);box-shadow:3px 3px 3px rgba(0,0,0,.25)}.middle[data-v-b5c1ea40]{vertical-align:middle;text-align:center}.box[data-v-b5c1ea40],.list-group-item[data-v-b5c1ea40]{background-color:rgba(0,0,0,.75);border:1px solid grey;margin-top:16px;margin-top:1rem}.box[data-v-b5c1ea40]{padding:32px;padding:2rem}.form[data-v-b5c1ea40]{max-width:500px;margin:0 auto}",""])},iS0p:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v(t._s(t.show.day)+" at "+t._s(t.show.venue)+", "+t._s(t.formatTime(t.show.time)))]),a("ul",{staticClass:"list-group pb-3"},[t._l(t.show.acts,function(e){return a("li",{staticClass:"list-group-item"},[a("div",{staticClass:"media align-items-center flex-wrap-reverse"},[e.imageUrl?a("img",{attrs:{src:e.imageUrl+"b.jpg"}}):t._e(),a("div",{staticClass:"media-body m-3"},[a("h2",[t._v(t._s(e.name)+" ")]),a("h3",[t._v(t._s(e.type)+" "),e.city?a("small",[t._v("from "+t._s(e.city)+", "+t._s(e.state))]):t._e()]),a("p",{staticClass:"d-none d-sm-block"},[t._v(t._s(e.description))])])])])}),a("li",{staticClass:"list-group-item"},[a("section",{directives:[{name:"show",rawName:"v-show",value:0==t.state,expression:"state==0"}]},["5b1ec986bd40f900140ae3a7"==t.show._id?a("div",{staticClass:"text-center"},[t._m(0)]):"5b8ceb21a9314d00142f8b96"==t.show._id?a("div",{staticClass:"text-center"},[a("p",[t._v("This show is free, just show up to get a seat! ")])]):a("div",[null===t.remaining?a("div",{staticClass:"text-right"},[a("strong",{staticClass:"text-info"},[t._v("Getting ticket information... ")])]):t._e(),null!==t.remaining&&t.remaining<=0?a("div",{staticClass:"text-right"},[a("strong",{staticClass:"text-danger"},[t._v("This show is sold out!")])]):t.boxOfficeClosed()?a("div",{staticClass:"text-center text-info"},[a("p",{staticClass:"m-0"},[t._v("Online sales for this show are now closed. ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:null!==t.remaining&&t.remaining>0,expression:"remaining !== null && remaining > 0"}],staticClass:"m-0"},[t._v("Tickets are still available at the door!")])]):a("div",[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.$refs.showModal.hide()}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.state=3}}},[t._v("Buy Tickets – $"+t._s(t.show.price))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.state++}}},[t._v("Reserve with Badge")])])])])]),a("section",{directives:[{name:"show",rawName:"v-show",value:1==t.state,expression:"state==1"}],staticClass:"form"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Badge Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Quantity")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.quantity=e.target.multiple?a:a[0]}}},[a("option",[t._v("1")]),a("option",[t._v("2")]),a("option",[t._v("3")])])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.state--}}},[t._v("Back")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.reserveWithBadge(t.show._id)}}},[t._v("Make Reservation")])])]),a("section",{directives:[{name:"show",rawName:"v-show",value:2==t.state,expression:"state==2"}]},[a("div",{staticClass:"text-center"},[a("h2",[t._v("Success!")]),a("p",[t._v("A confirmation email has been sent to  "),a("span",{staticClass:"code"},[t._v(t._s(t.email))])])])]),a("section",{directives:[{name:"show",rawName:"v-show",value:3==t.state,expression:"state==3"}]},[a("paypal",{attrs:{"show-id":t.show._id,remaining:t.remaining},on:{paid:t.paid}}),a("div",{staticClass:"text-center"},[a("button",{staticClass:"mt-3 btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.state=0}}},[t._v("Cancel")])])],1),a("section",{staticClass:"mt-3"},[a("div",{staticClass:"text-center"},[a("font-awesome-icon",{attrs:{icon:["fas","arrow-circle-left"],size:"sm"}}),t._v(" "),a("a",{attrs:{href:"/schedule"}},[t._v("Back to the full schedule")])],1)])])],2)])};i._withStripped=!0;var s={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Shit-Faced Shakespeare is an independent show! Please purchase tickets to their show from "),e("a",{staticStyle:{color:"#f9a01b"},attrs:{href:"https://www.shit-facedshakespeare.com/tickets-for-austin-shows--atx.html",target:"_blank"}},[this._v("their website")])])}]};e.a=s},kAcT:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("script",{attrs:{src:"https://www.paypalobjects.com/api/checkout.js"}}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.name,expression:"ticket.name"}],staticClass:"form-control",attrs:{id:"paypal-name",type:"text"},domProps:{value:t.ticket.name},on:{input:function(e){e.target.composing||t.$set(t.ticket,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.email,expression:"ticket.email"}],staticClass:"form-control",attrs:{id:"paypal-email",type:"email"},domProps:{value:t.ticket.email},on:{input:function(e){e.target.composing||t.$set(t.ticket,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phone"}},[t._v("Phone Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.phone,expression:"ticket.phone"}],staticClass:"form-control",attrs:{id:"paypal-phone",type:"tel"},domProps:{value:t.ticket.phone},on:{input:function(e){e.target.composing||t.$set(t.ticket,"phone",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"quantity"}},[t._v("Quantity")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ticket.quantity,expression:"ticket.quantity"}],staticClass:"custom-select",attrs:{id:"paypal-quantity",name:"quantity"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ticket,"quantity",e.target.multiple?a:a[0])}}},t._l(t.remaining,function(e){return a("option",[t._v(t._s(e))])}))]),t._m(0)])};i._withStripped=!0;var s={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"}),e("div",{staticClass:"col-8"},[e("div",{attrs:{id:"paypal-button"}})])])}]};e.a=s},ojp8:function(t,e,a){var i=a("S5gM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("15f1592d",i,!1,{sourceMap:!1})},usiW:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".form[data-v-0065bb24]{max-width:500px;margin:0 auto}",""])}});